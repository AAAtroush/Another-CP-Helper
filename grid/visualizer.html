<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ูุตูุฑ ุงูุดุจูุฉ - ูุณุงุนุฏ ุงูุจุฑูุฌุฉ ุงูุชูุงูุณูุฉ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../Styles/navbar.css">
  <link rel="stylesheet" href="../Styles/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>

<body>

  <!-- NAVIGATION BAR -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <span class="nav-logo">๐ฏ</span>
        <span class="nav-title">ูุณุงุนุฏ ุงูุจุฑูุฌุฉ ุงูุชูุงูุณูุฉ</span>
      </div>
      <ul class="nav-menu">
        <li><a href="../index.html" class="nav-link">ุงูุฑุฆูุณูุฉ</a></li>
        <li><a href="visualizer.html" class="nav-link">ุนุฑุถ ุงูุดุจูุฉ</a></li>
        <li><a href="#formulas-section" class="nav-link">ุงูุตูุบ</a></li>
      </ul>
    </div>
  </nav>

  <!-- HEADER -->
  <header class="main-header">
    <div class="header-content">
      <h1>ุงุฏุงุฉ ุนุฑุถ ุงูุดุจูุฉ</h1>
      <p class="header-subtitle">ุฃุฏุงุฉ ุงููุตูููุฉ ุงูุชูุงุนููุฉ ููุจุฑูุฌุฉ ุงูุชูุงูุณูุฉ</p>
    </div>
  </header>

  <!-- TOP TWO-COLUMN LAYOUT -->
  <section class="container" id="grid-section">

    <!-- SIDEBAR -->
    <div class="controls-card" id="controls-section">

      <!-- TAB BUTTONS -->
      <div class="tab-buttons">
        <button class="tab-btn active" data-tab="tab-controls">ุงูุชุญูู</button>
        <button class="tab-btn" data-tab="tab-input">ุงูุฅุฏุฎุงู / ุงูุชุตุฏูุฑ</button>
        <button class="tab-btn" data-tab="tab-history">ุงูุชุงุฑูุฎ</button>
      </div>

      <!-- TAB CONTENTS -->
      <div class="tab-contents">

        <!-- CONTROLS TAB -->
        <div class="tab-content active" id="tab-controls">
          <h3 class="bottom-border">ุชุญูู ุงูุดุจูุฉ</h3>
          <div class="form-group bottom-border">
              <label>ุตููู: <input id="rows" type="number" value="10" min="1"></label>
              <label>ุฃุนูุฏุฉ: <input id="cols" type="number" value="10" min="1"></label>
          </div>
          <div class="form-group bottom-border">
            <label>ุงูุญุฌู: <input id="cellSize" type="range" min="10" max="100" value="40"></label>
            <label>ุงูููู: <input id="colorPicker" type="color" value="#1f1f1f"></label>
          </div>
          <div class="form-group bottom-border">
            <button id="toggleInputs" class="full-btn">๐๏ธ ูุถุน ุงููุชุงุจุฉ</button>
          </div>
          <div class="form-group rotate-row bottom-border">
            <button id="toggleIndices" class="half-btn">ุฅุธูุงุฑ ุงููindex</button>
            <button dir="ltr" id="indexMode" class="half-btn">0-based indexed</button>
          </div>
          <div class="form-group rotate-row bottom-border">
            <button id="rotateCW" class="half-btn">ุฏูุฑุงู โฒ</button>
            <button id="rotateCCW" class="half-btn">ุฏูุฑุงู โณ</button>
          </div>
          <div class="form-group bottom-border">
            <input id="fillValueInput" type="text" placeholder="ูููุฉ ุงูุชุนุจุฆุฉ" class="fill-input-large">
            <button id="fillValueBtn">ุชุนุจุฆุฉ</button>
          </div>
          <div class="form-group bottom-border">
            <button id="fillRandom">ุนุดูุงุฆู (0-9)</button>
            <button id="fillBinary">ุดุจูุฉ binary</button>
            <button id="randomGrid">ุดุจูุฉ ุนุดูุงุฆูุฉ</button>
          </div>
          <button id="clearAll" class="full-btn">ูุณุญ ุงููู</button>
        </div>

        <!-- INPUT / EXPORT TAB -->
        <div class="tab-content" id="tab-input">
          <h3 class="bottom-border">ุงูุงุณุชูุฑุงุฏ / ุงูุชุตุฏูุฑ</h3>
          <textarea id="cfInput" rows="6" placeholder="ุงูุตู ุงูุฅุฏุฎุงู ููุง..."></textarea>
          <div class="form-group">
            <button id="importCF">ุงุณุชูุฑุงุฏ ุฅุฏุฎุงู CF</button>
            <button id="exportCF">ูุณุฎ ูุฅุฏุฎุงู CF</button>
          </div>
        </div>

        <!-- HISTORY TAB -->
        <div class="tab-content" id="tab-history">
          <h3 class="bottom-border">ุงูุชุงุฑูุฎ ูุงูููุงูุจ</h3>
          <div class="form-group rotate-row bottom-border">
            <button id="undoBtn" class="half-btn">ุชุฑุงุฌุน</button>
            <button id="redoBtn" class="half-btn">ุฅุนุงุฏุฉ</button>
          </div>
          <div class="form-group">
            <button id="saveTemplate">ุญูุธ ุงููุงูุจ</button>
            <button id="loadTemplate">ุชุญููู ุงููุงูุจ</button>
          </div>
        </div>

      </div>

    </div>

    <!-- GRID AREA -->
    <div class="grid-wrapper">
      <div id="grid"></div>
    </div>

  </section>


  <!-- FORMULAS SECTION -->
  <section class="formulas-card" id="formulas-section">

    <div class="formulas-tabs">
      <button class="formulas-tab-btn active" data-tab="f-rotate">ุฏูุฑุงู / ุงูุนูุงุณ</button>
      <button class="formulas-tab-btn" data-tab="f-prefix">ูุฌููุน ุงูุจุงุฏุฆุฉ ุซูุงุฆู ุงูุฃุจุนุงุฏ</button>
      <button class="formulas-tab-btn" data-tab="f-mult">ุถุฑุจ / ุฃุณ</button>
      <button class="formulas-tab-btn" data-tab="f-transpose">ููููู</button>
      <button class="formulas-tab-btn" data-tab="f-det">ุงููุญุฏุฏ</button>
      <button class="formulas-tab-btn" data-tab="f-others">ุฃุฎุฑู</button>
    </div>

    <div class="formulas-contents">

      <!-- ROTATE / FLIP -->
      <div class="formula-section active" id="f-rotate">
        <h4>ุฏูุฑุงู 90ยฐ ูู ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ (ูู ุงูููุงู)</h4>
        <pre dir="ltr"><code class="language-c++">// ุชุฏููุฑ ูุตูููุฉ NxN ูู ุงูููุงู (ุจุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ)
void rotateClockwise(vector&lt;vector&lt;int&gt;&gt;& a) {
    int n = a.size();
    for (int i = 0; i < n/2; ++i) {
        for (int j = i; j < n - i - 1; ++j) {
            int tmp = a[i][j];
            a[i][j] = a[n-1-j][i];
            a[n-1-j][i] = a[n-1-i][n-1-j];
            a[n-1-i][n-1-j] = a[j][n-1-i];
            a[j][n-1-i] = tmp;
        }
    }
}</code></pre>

        <h4>ุงูุนูุงุณ ุฃููู / ุนููุฏู</h4>
        <pre dir="ltr"><code class="language-c++">// ุงูุนูุงุณ ุฃููู (ูุฑุขุฉ ูู ุงููุณุงุฑ ุฅูู ุงููููู)
void flipHorizontal(vector&lt;vector&lt;int&gt;&gt;& a) {
    int n = a.size(), m = a[0].size();
    for (int i = 0; i < n; ++i)
        for (int j = 0; j < m/2; ++j)
            swap(a[i][j], a[i][m-1-j]);
}

// ุงูุนูุงุณ ุนููุฏู (ูุฑุขุฉ ูู ุงูุฃุนูู ุฅูู ุงูุฃุณูู)
void flipVertical(vector&lt;vector&lt;int&gt;&gt;& a) {
    int n = a.size();
    for (int i = 0; i < n/2; ++i)
        swap(a[i], a[n-1-i]);
}</code></pre>
      </div>

      <!-- 2D PREFIX SUM -->
      <div class="formula-section" id="f-prefix">
        <h4>ูุฌููุน ุงูุจุงุฏุฆุฉ ุซูุงุฆู ุงูุฃุจุนุงุฏ (ุจูุงุก ูุงุณุชุนูุงู)</h4>
        <pre dir="ltr"><code class="language-c++">// ุจูุงุก ูุฌููุน ุงูุจุงุฏุฆุฉ p ุญูุซ p[i+1][j+1] = ูุฌููุน a[0..i][0..j]
vector&lt;vector&lt;long long&gt;&gt; buildPrefix(const vector&lt;vector&lt;int&gt;&gt;& a) {
    int n = a.size(), m = a[0].size();
    vector&lt;vector&lt;long long&gt;&gt; p(n+1, vector<long long>(m+1, 0));
    for (int i = 0; i < n; ++i)
        for (int j = 0; j < m; ++j)
            p[i+1][j+1] = a[i][j] + p[i][j+1] + p[i+1][j] - p[i][j];
    return p;
}

// ุงุณุชุนูุงู ูุฌููุน ุงููุตูููุฉ ุงููุฑุนูุฉ (r1..r2, c1..c2) ุดุงููุฉ (ูุงุฆูุฉ ุนูู ุงูุตูุฑ)
long long querySum(const vector&lt;vector&lt;long long&gt;&gt;& p, int r1, int c1, int r2, int c2) {
    return p[r2+1][c2+1] - p[r1][c2+1] - p[r2+1][c1] + p[r1][c1];
}</code></pre>
      </div>

      <!-- MULTIPLICATION & EXPONENTIATION -->
      <div class="formula-section" id="f-mult">
        <h4>ุถุฑุจ ุงููุตูููุฉ ุงูุจุณูุท</h4>
        <pre dir="ltr"><code class="language-c++">vector&lt;vector&lt;long long&gt;&gt; multiply(const vector&lt;vector&lt;int&gt;&gt;& A,
                                   const vector&lt;vector&lt;int&gt;&gt;& B) {
    int n = A.size(), k = A[0].size(), m = B[0].size();
    vector&lt;vector&lt;long long&gt;&gt; C(n, vector<long long>(m, 0));
    for (int i = 0; i < n; ++i)
        for (int t = 0; t < k; ++t)
            for (int j = 0; j < m; ++j)
                C[i][j] += 1LL * A[i][t] * B[t][j];
    return C;
}</code></pre>

        <h4>ุฃุณ ุงููุตูููุฉ (ูุฑุจุน)</h4>
        <pre dir="ltr"><code class="language-c++">using Mat = vector&lt;vector&lt;long long&gt;&gt;;

Mat matMul(const Mat& A, const Mat& B, long long mod = -1) {
    int n = A.size();
    Mat C(n, vector<long long>(n, 0));
    for (int i = 0; i < n; ++i)
        for (int k = 0; k < n; ++k)
            for (int j = 0; j < n; ++j) {
                C[i][j] += A[i][k] * B[k][j];
                if (mod > 0) C[i][j] %= mod;
            }
    return C;
}

Mat matPow(Mat base, long long exp, long long mod = -1) {
    int n = base.size();
    Mat res(n, vector<long long>(n, 0));
    for (int i = 0; i < n; ++i) res[i][i] = 1;
    while (exp) {
        if (exp & 1) res = matMul(res, base, mod);
        base = matMul(base, base, mod);
        exp &gt;&gt;= 1;
    }
    return res;
}</code></pre>
      </div>

      <!-- TRANSPOSE -->
      <div class="formula-section" id="f-transpose">
        <h4>ููููู ุงููุตูููุฉ</h4>
        <pre dir="ltr"><code class="language-c++">// ููููู ูู ุงูููุงู (ูุฑุจุน)
void transposeSquare(vector&lt;vector&lt;int&gt;&gt;& a) {
    int n = a.size();
    for (int i = 0; i < n; ++i)
        for (int j = i+1; j < n; ++j)
            swap(a[i][j], a[j][i]);
}

// ููููู ูุณุชุทูู -> ูุตูููุฉ ุฌุฏูุฏุฉ
vector&lt;vector&lt;int&gt;&gt; transpose(const vector&lt;vector&lt;int&gt;&gt;& a) {
    int n = a.size(), m = a[0].size();
    vector&lt;vector&lt;int&gt;&gt; b(m, vector<int>(n));
    for (int i = 0; i < n; ++i)
        for (int j = 0; j < m; ++j)
            b[j][i] = a[i][j];
    return b;
}</code></pre>
      </div>

      <!-- DETERMINANT -->
      <div class="formula-section" id="f-det">
        <h4>ุงููุญุฏุฏ ุจุงุณุชุฎุฏุงู ุงูุญุฐู ุงูุบุงูุณู</h4>
        <pre dir="ltr"><code class="language-c++">double determinant(vector&lt;vector&lt;double&gt;&gt; a) {
    int n = a.size();
    double det = 1;
    const double EPS = 1e-12;
    for (int i = 0; i < n; ++i) {
        int pivot = i;
        for (int j = i; j < n; ++j)
            if (fabs(a[j][i]) > fabs(a[pivot][i])) pivot = j;
        if (fabs(a[pivot][i]) < EPS) return 0.0;
        if (i != pivot) { swap(a[i], a[pivot]); det = -det; }
        det *= a[i][i];
        double inv = 1.0 / a[i][i];
        for (int j = i+1; j < n; ++j) {
            double f = a[j][i] * inv;
            for (int k = i+1; k < n; ++k) a[j][k] -= f * a[i][k];
        }
    }
    return det;
}</code></pre>
      </div>

      <!-- OTHER -->
      <div class="formula-section" id="f-others">
        <h4>ูุณุงุนุฏุงุช</h4>
        <pre dir="ltr"><code class="language-c++">// ุชุนุจุฆุฉ ุจุงููููุฉ
void fillMatrix(vector&lt;vector&lt;int&gt;&gt;& a, int val) {
    for (auto &r : a) fill(r.begin(), r.end(), val);
}

// ุชุฏููุฑ ุบูุฑ ูุฑุจุน: ููุฑุฌุน ูุตูููุฉ ุฌุฏูุฏุฉ
vector&lt;vector&lt;int&gt;&gt; rotate90New(const vector&lt;vector&lt;int&gt;&gt;& a) {
    int n = a.size(), m = a[0].size();
    vector&lt;vector&lt;int&gt;&gt; b(m, vector<int>(n));
    for (int i = 0; i < n; ++i)
        for (int j = 0; j < m; ++j)
            b[j][n-1-i] = a[i][j]; // ุจุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ
    return b;
}</code></pre>
      </div>

    </div>

  </section>

  <script src="../Scripts/navbar.js"></script>
  <script src="../Scripts/main.js"></script>

</body>

</html>